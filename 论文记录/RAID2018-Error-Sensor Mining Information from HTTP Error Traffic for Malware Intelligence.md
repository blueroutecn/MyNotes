# 
motivation: malware的failure与一般用户请求的failure是具有不同的

## 第一章

* DNS Errors和HTTP Errors

    * DNS Errors一般是请求不存在的CCdomain,与DGA有关

    * HTTP Errors:malware try to connect to compromised servers that have been cleared by administratirs.(HTTPcode > 400)
Most errors caused by connecting to benign servers with bad parameters, connecting to compromised servers that have been cleaned, scanning vulnerable webpages that have been removed/pretected.

* However, since cyber criminals would prepare for network failures in their malware for resilient malicious operations,
there exist diﬀerent error generation patterns **(frequencies,sequences, statistics)**

## 第二章：

### 2.1 阐述了HTTP Error的相关知识

* We use a combination of a client, a server, a webpage, and an error code to represent a unique HTTP error

### 2.2 阐述了the problem stated in the paper

* 首先：正常用户和Malware产生HTTPError的不同点

* 然后，设计一种方法检测malware-generated errors and extract malware evasion intelligence(intelligence means evatioin strategies)

第三章 Insights (论文里Insights到底是什么？ 从这篇来看，是一些从数据得到的基本的发现)

* 注意文章将一天的数据划分为三类Dday: Mids,M(正常用户向Mids服务器发起请求所产生的错误),B(never connect to Mids servers,benign)
三个Observation:

* 注意benign errors 和 malicious errors的定义：benigh errors 与 malicious errors(generate by malware-software?)的定义 

* O1:Most benign errors are generated by an accident

    *  In case of benign software, it may generate multiple diﬀerent requests to the same server.

    * malware may immediately try to connect to other backup servers in the face of errors.

* O2: Malware infected clients generate more errors than benign clients

   * We deﬁne the malware infected clients as the clients who send at least one request to malicious servers.

* O3: Most benign errors are generated by benign software.
   * 根据User-Agent来判断

* O4: The errors generated by malware have diﬀerent generating patterns from the errors generated by benign software

    * we ﬁrst clustered the errors based on the similarity of their pages and parameters.【QUESTION:怎么根据page和parameter聚类？】

    * we obtained 42 clusters for malware-generated errors and 716 clusters for benign errors

    * examine the patterns from 3 perspectives
        * error sequences:72.35% of benign errors were generated in a sequence. That is, the client sent requests to servers in a speciﬁc order.

        * error patterns: all the browser-generated errors were generated in a batch when a page was loaded. Most benign software also generated errors in a batch since it immediately tried to connect to multiple alternative servers in the face of errors.

        * error frequencies： benign errors have a lower frequency.

* O5:Malware has more recovery behaviors than benign software.
 
* In a nutshell:Malware-infected clients usually generate more HTTP errors than benign clients, and most of the errors are related to malware activities.


## 第四章 System Design

### 利用O1-O5的发现进行系统设计:aims to detect malware behaviors by examing HTTP Errors.

* Overview
    
    * Input: the entire HTTP traffic 
    
    * Filtering Component: filter out noisy, error traffic and forwared both the remaint error traffic and the select sucessful request trafic surrounding the remainging errors
    
    * Gouup： group the errors by HTTP URI pags & parameters and the errors sharing similar HTTP pages and parameter patterns are grouped together. During this process, ERROR-SENSOR extracts vatious statistical features from three different perspectives:error provenance, error generation and error recovery.
            这一过程中，从三个角度提取特征:error provenance, error generation and error recovery 

    * Train & Classify: 上一步提取的特征被用于训练分类器，分类器用于区分malware-generated errors & benign errors

* 步骤1: Filtering: reduce the amount of traffic to be precessed and filter noisy errors
       noisy error的定义：时间窗口内之有一次HTTP Error的client产生的ERROR
       Filter过程中过滤掉成功的HTTP 请求和Noisy Errors
       最终保留的HTTP Errors以如下形式记录<client i, server j, page k, error code>


* 步骤2: Clustering
       
       * group the errors by each client rather than across different clients【QUESTION:上文不是说by pages and parameters?  是对同一个client产生的errors根据pages和parameters聚类？】

* 步骤3：Classify:
     * Input: the clusters of errors and their surrounding successful HTTP requests
     
     * Output: a verdict on whether the clusters are malicious or not 【QUESTION:对 clusters 做分类？】

     18个特征分为三类，error provenance, error generation and error recovery 
     【QUESTION: feature有提到从error cluster提取特征的, clusters包括哪些？】

* 步骤4: Using and using a classifier
    【QUESTION:提到了 malicious error clusters & benign error clusters 】
    【QUESTION: 判定为malicious的部分，如何同时输出recovery servers? 】

## 第五章 Evaluation

* 5 days of real-world web proxy logs, which consists of connection information(eg., source/destiniation IP address, ports and timestamps) and HTTP header fields(eg.. Hosts, URLs, User-Agents, referers and HTTPcode);
    
* Effectiveness:
    * 10-fold Cross Validation:针对misclassification cases: find out which features lead to misclassification
    
    * Real world Application:

* Robustness:

* Case Study

## 第六章 Discussion

* Limitations

   

---

Summary of innovational points:

1. 思想很新颖，一般都是研究DNS请求，但这里研究的是HTTP研究;

2. 研究HTTP Error的情况，且先用了聚类，后用了分类

3. 特征能否改？ 模型能否跑神经网络？？

4. 对错误产生的序列、频率分析









