# 第一章 - 软件安全概述

---

## 软件的概念
#### 软件的定义
* 目前，通俗的解释为：软件 =  程序 +  数据 +  文档资料
* 程序是完成特定功能和满足性能要求的指令序列；
* 数据是程序运行的基础和操作的对象；
* 文档与程序开发、维护和使用有关的图文资料

#### 软件的分类
* 系统软件
计算机运行的**必不可少**的组成部分，它与计算机**硬件紧密配合**，控制并协调计算机系统**各个部件、相关的软件和数据**高效地工作
* 支撑软件
**协助用户开发软件的工具性软件**
* 应用软件
在特定应用领域内开发，为特定目的服务的软件。


## 软件安全的由来
#### 软件问题的原因
* Connectivity（互联性）
    * 多数计算机与Internet相连
    
    * 多数软件系统互联于Internet
    
    * **终端设备的互联给了攻击者有更多的机会**
    
    * 攻击者**利用系统弱点**不再需要进行物理访问

* Extensibility（扩展性）
    * 通过**接受更新**或者**扩展件**使系统升级
    
    * 优点:在于可以很方便的加载以及扩展新的功能与组件
    
    * 问题:扩展的**功能与组件不可控**，会带来未知的安全风险
* Complexity（复杂性）
    * 系统越复杂，Bug越难避免，质量越难保证，可能发生的安全风险越多。

#### 黑客攻击方式的进化

#### 传统技术的不足
* 统网络安全技术只能对**网络层**进行防护

* 无法分辨与**正常应用数据混杂**在一起的攻击(eg.XSS，SQL注入)

![](http://ouzh4pejg.bkt.clouddn.com/tradition-secure.JPG)

#### 统安全教育的不足
* 一些**“安全误区”**的存在

* 攻击者的优势和开发者的劣势
    * 因素1：防御者必须对**所有环节都进行防御**，而攻击者可以选择**最薄弱**的环节
    
    * 因素2：防御者只能针对**已知的攻击**进行防御，而攻击者则可以**探测未知漏洞**
   
    * 因素3：防御者必须**永远保持警惕，攻击者随时可以罢工**
    
    * 因素4：防御者活动必须**遵循相应的规则**，攻击者可以采用卑鄙的手段

#### 软件安全的根源问题
软件安全的问题是**软件自身的缺陷问题**,其主要在**软件设计**和**软件实现**的过程中产生,具体表现在软件设计的**架构问题**和**实现上的错误**

## 软件安全的概念
#### 软件安全的目的
* 数据的安全

* 业务的可持续性

#### 定义
* 采取工程的方法使得软件**在敌对攻击(恶意攻击)的情况下仍能够继续正常工作（正确运行）**

* 从**风险分析**的角度出发，软件安全是关于如何理解软件**所引起的安全风险**及**如何管理这些风险**的学科

#### 安全是非功能性需求
* 安全是一种**非功能需求**，不是一个可以随时添加的功能。安全和**可信性、可靠性**一样，是非功能需求

#### 软件可靠性（类似的概念）
软件可靠性（software reliability）是软件产品在**规定的条件下和规定的时间区间完成规定功能的能力**

## 软件安全的知识体系
Gary McGraw认为软件安全的知识体系可以分为三大类：**描述性知识、诊断性知识和历史知识**

#### 描述性知识
提供了一些建议，旨在说明该做什么和在**构建安全的软件时应该避免什么**
#### 诊断性知识
**攻击模式、攻击程序和弱点**。诊断性知识不仅包括关于实践的描述性陈述，其更重要的目标是帮助操作人员**识别和处**理导致安全攻击的常见问题

#### 历史知识
包括**历史风险**，在有些情形下也包括**弱点的历史数据库**

![](http://ouzh4pejg.bkt.clouddn.com/software-sys.JPG)

## 软件安全威胁与来源
信息系统面临的**三大**典型软件安全威胁：**软件缺陷与漏洞（正常软件）、恶意软件（实现恶意目的）和非法破解，知识产权被侵害（正常软件）**

#### 软件缺陷与漏洞（正常软件）
* 软件缺陷：常常又被称作Bug,指计算机软件或程序中存在的某种**破坏正常运行能力的问题、错误，或者隐藏的功能缺陷**

* 漏洞：漏洞，是软件或硬件设计生产过程中出现的bug，**该bug在一定条件下可以被
触发，引起信息安全相关的问题**

* 软件安全的目的: 尽可能消除软件漏洞，确保软件在**恶意攻击下仍然正常运行**

#### 恶意软件
* 定义:目的是为了实施**特定恶意功能的一类软件程序**。

* 典型的恶意软件种类： 计算机病毒、蠕虫、特洛伊木马、后门、僵尸、间谍软件等

* 恶意软件威胁：
    * **修改或破坏**已有软件的功能
    
    * **窃取**目标系统中的重要数据
    
    * **监视**目标系统中的用户行为（幕监视、视频监视、语音监听）
    
    * **控制**目标系统等(Shell、屏幕控制、跳板)


#### 非法破解
* 软件破解：通过对软件自身程序进行**逆向分析**，剖析软件的注册机制，对软件的各类限制实施破解，从而使得**非法使用者可以正常使用软件**

## 软件安全防护手段
#### 安全设计
将安全问题融入到软件的**开发管理流**程中，在软件**开发阶段**尽量减少软件缺陷和漏洞的数量

#### 保障运行环境
* 保障软件自身运行环境，加强系统自身的**数据完整性校验**

* 软件完整性校验
目前很多安全软件在**安装之初**将对系统的重要文件进行**完整性校验**并**保存其校验值**

* 系统完整性校验
目前有些硬件系统**从底层开始保障系统的完整性**，**可信计算**思想是典型代表

#### 强软件自身行为认证
* 软件动态可信认证:在确保软件**数据完整性**的前提下，如何确保软件的行为总是**以预期的方式，朝着预期的目标运行**

#### 恶意软件检测与查杀
* 反病毒软件:对外来的恶意软件进行检测, 通常采用病毒**特征值检测、虚拟机、启发
式扫描、主动防御、云查杀**等几种方法对病毒进行检测


#### 黑客攻击防护
* 防火墙

* 网络、主机防火墙

* 入侵检测系统IDS

* 入侵防护系统IPS

* 基于主机的漏洞攻击阻断技术

#### 系统还原
将关键系统文件或指定磁盘分区还原为之前的备份状态，从而将已有系统中的恶意程序全部清除，以保护系统安全

#### 虚拟隔离
* 虚拟机
    * 将危险行为**隔离在不同的系统范围之内**，保障敏感行为操作的安全性
* 沙箱
    * **隔离风险**
    * 通常用于运行一些疑似危险样本，从而可
    以**隔离安全威胁**，也可以用于恶意软件分
    析


## 专有名词及定义
* X86
    X86是一组通常**与Intel相关的计算机架构**，X86结构是一个little-endian系统。

* Big-edian
    高字节在低地址，低字节在高地址

* Little-edian
    高字节在高地址，低字节在低地址

* 缓冲区
    已经分配的一段**大小确定的内存空间**。当数据在两个运行**速度或者作业量不同的设备**间传递时，通常使用缓冲区作为**临时存储区**

* 堆
    应用程序使用的一块内存区域，它在**运行应用程序时动态分配**

* 堆栈
    用来**存储临时数据**的内存空间，它在程序运行期间**不停地增长或收缩**

* 软件缺陷
    不是所有的缺陷都是漏洞，**如果不被利用，软件缺陷就不是漏洞**

* 反汇编程序
    将机器代码程序转变为汇编代码的软件工具

* 字节码
    介于高级语言代码和机器代码之间的程序代码

* exploit
    典型的exploit是一个**程序**，通过使用该程序可以**触发一个软件漏洞并为攻击者所利用**

* shellcode
    传统上shellcode是执行shell的代码。现在，shellcode有了更广泛的含义，通常定
义**一个成功exploit所执行的代码**

* 破解者（cracker）
    有能力编写入侵程序的攻击者

* 脚本玩家（script kiddie）
    依靠别人编写的入侵程序的人

* Sandbox
    一种用来**控制代码执行的结构**。在sandbox中执行的代码不会影响外部系统

* 虚拟机
    一个可执行代码的平台的**模拟软件**

* off-by-one
    一个缓冲区大小被设定为n字节，而一个应用程序却试图向缓冲区写入
n+1字节，这时就会发生off-by-one缺陷

## 软件安全工具简介
* 反汇编器

* 调试器

* 反编译器

* 系统监视工具

* 修补和转储工具

还有其他，详见课件

---

2017.10.05
