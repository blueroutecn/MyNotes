# IP相关整理

------
**IP地址=网络地址＋主机地址 或 IP地址=主机地址＋子网地址＋主机地址**

## 地址分配
根据用途和安全性级别的不同，IP地址还可以大致分为两类：**公共地址**和**私有地址**。公用地址在Internet中使用，可以在Internet中随意访问。私有地址只能在内部网络中使用，只有通过代理服务器才能与Internet通信。

## ip分类
**网络号**
用于识别主机所在的网络；

**主机号**
用于识别该网络中的主机。

**IP地址分为五类**

* A类保留给政府机构
* B类分配给中等规模的公司
* C类分配给任何需要的人
* D类用于组播
* E类用于实验
* A、B、C三类IP地址的特征：当将IP地址写成二进制形式时，A类地址的第一位总是0，B类地址的前两位总是10，C类地址的前三位总是110。

**A类地址**

*  A类地址第1字节为网络地址，其它3个字节为主机地址。它的第1个字节的第一位固定为0.
* A类地址网络号范围：1.0.0.0---126.0.0.0

*  A类地址中的私有地址和保留地址：

① 私有地址：10.0.0.0---10.255.255.255</br>
②保留地址： 127.X.X.X(循环测试用的)</br>

**B类地址**

* B类地址第1字节和第2字节为网络地址，其它2个字节为主机地址。它的第1个字节的前两位固定为10.

*  B类地址网络号范围：128.0.0.0---191.255.0.0。

*  B类地址的私有地址和保留地址
① 私有地址: 172.16.0.0---172.31.255.255</br>
② 保留地址: 169.254.X.X(如果）IP地址是自动获取IP地址，而你在网络上又没有找到可用的DHCP服务器。就会得到其中一个IP</br>
③ 191.255.255.255是广播地址，不能分配</br>

**C类地址**

* C类地址第1字节、第2字节和第3个字节为网络地址，第4个字节为主机地址。另外第1个字节的前三位固定为110</br>
* C类地址网络号范围：192.0.0.0---223.255.255.0</br>
* 私有地址：192.168.0.0---192.168.255.255是私有地址</br>


**D类地址**

*  D类地址不分网络地址和主机地址，它的第1个字节的前四位固定为1110。
*  D类地址范围：224.0.0.0---239.255.255.255


**E类地址**

*   E类地址不分网络地址和主机地址，它的第1个字节的前五位固定为11110。
*  E类地址范围：240.0.0.0---255.255.255.254


IP地址如果只使用ABCDE类来划分，会造成大量的浪费：一个有500台主机的网络，无法使用C类地址。但如果使用一个B类地址，6万多个主机地址只有500个被使用，造成IP地址的大量浪费。因此，IP地址还支持**VLSM**技术，可以在ABC类网络的基础上，进一步划分子网。

**无类地址**
`不太明白`
除ABCDE以外的IP地址段划分方式，如：192.168.1.0 255.255.255.252等分成C段划分的地址

## 掩码

* 作用：将某个IP地址划分成网络地址和主机地址两部分
* IP地址网络部分对应的掩码部分全为“1”，主机部分对应的掩码全为“0”
* 使用：与ip进行“与”运算后得到网络号
* 缺省状态下，如果没有进行子网划分，则：
 **A类网络的子网掩码为255.0.0.0，一个子网最多可以容纳1677万多台电脑**
**B类网络的子网掩码为255.255.0.0， 一个子网最多可以容纳6万台电脑**
**C类网络的子网掩码为255.255.255.0， 一个子网最多可以容纳254台电脑**
* 定义子网掩码：
**在定义子网掩码前，必须弄清楚本来使用的子网数和主机数目** </br>
定义子网掩码的步骤为：</br>

A、确定哪些组地址归我们使用(比如我们申请到的网络号为 “210.73.a.b”，该网络地址为c类IP地址，网络标识为“210.73.a”，主机标识为“b”)</br>

B、根据我们所需的子网数以及将来可能扩充到的子网数，用宿主机的一些位来定义子网掩码。比如我们需要12个子网，将来可能需要16个。用第四个字节的前四位确定子网掩码。前四位都置为“1”，即第四个字节为“11110000”，这个数我们暂且称作新的二进制子网掩码。</br>

C、把对应初始网络的各个位都置为“1”，即前三个字节都置为“1”，则子网掩码的间断二进制形式为：“11111111.11111111.11111111.11110000” 。</br>

D、把这个数转化为间断十进制形式为：“255.255.255.240” 。</br>

255.255.255.240 对应主机是 255.255.255.240对应主机的子集。

## 网段
* 判断是否在同一网段，判断网络标识是否相同即可
* 网络标识：用IP的二进制与子网掩码的二进制数据作'与'运算所得结果，而不是IP地址前几段相同就表示在同一网段。**若网络标识相同，就表示在同一网段**
* 举例：

IP：188.188.0.111，188.188.5.222，子网掩码都设为255.255.254.0，在同一网段吗？</br>
先将这些转换成二进制</br>

IP(A) 188.188.0.111　10111100.10111100.00000000.01101111</br>
IP(B) 188.188.5.222　10111100.10111100.00000101.11011010</br>

掩码 255.255.254.0　11111111.11111111.11111110.00000000</br>

分别“与”运算，得</br>
10111100.10111100.00000000.00000000</br>
10111100.10111100.00000100.00000000</br>
**网络标识不一样，即不在同一网段**

 



参考
[http://vod.sjtu.edu.cn/help/Article_Print.asp?ArticleID=631](http://vod.sjtu.edu.cn/help/Article_Print.asp?ArticleID=631)

[ip掩码、子网划分](http://www.cnblogs.com/bitzhuwei/archive/2013/01/07/local_network.html)

[子网掩码-百度百科](https://baike.baidu.com/item/%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81)

[ip-百度百科](https://baike.baidu.com/item/IP/224599?fr=aladdin)


---
2017.09.25

